(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n);if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key,"string"),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function e(t,n){var r=t.data,o=t.userId,i=t.handleCardClick,a=t.handleLikeClick,u=t.handleDeleteIconClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardName=r.name,this._cardLink=r.link,this._cardLikes=r.likes,this._id=r._id,this._userId=o,this._ownerId=r.owner._id,this._handleCardClick=i,this._handleLikeClick=a,this._handleDeleteIconClick=u,this._template=n}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".element").cloneNode(!0)}},{key:"isLiked",value:function(){var e=this;return this._cardLikes.find((function(t){return t._id===e._userId}))}},{key:"setLikes",value:function(e){this._cardLikes=e,this._likeCounter.textContent=this._cardLikes.length,this.isLiked()?this._likeToggleOnHandler():this._likeToggleOffHandler()}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage.addEventListener("click",(function(){e._handleCardClick()})),this._buttonRemove.addEventListener("click",(function(){e._handleDeleteIconClick(e._id)})),this._likeIcon.addEventListener("click",(function(){e._handleLikeClick(e._id)}))}},{key:"_likeToggleOnHandler",value:function(){this._likeIcon.classList.add("element__like_active")}},{key:"_likeToggleOffHandler",value:function(){this._likeIcon.classList.remove("element__like_active")}},{key:"generateCard",value:function(){return this._card=this._getTemplate(),this._likeCounter=this._card.querySelector(".element__like-count"),this._buttonRemove=this._card.querySelector(".element__remove"),this._likeIcon=this._card.querySelector(".element__like"),this._cardImage=this._card.querySelector(".element__image"),this._cardNameElement=this._card.querySelector(".element__name"),this._setEventListeners(),this.setLikes(this._cardLikes),this._cardImage.setAttribute("src",this._cardLink),this._cardImage.setAttribute("alt",this._cardName),this._cardNameElement.textContent=this._cardName,this._ownerId!==this._userId&&(this._buttonRemove.style.display="none"),this._card}},{key:"deleteMyCard",value:function(){this._card.remove()}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t);if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key,"string"),"symbol"===r(i)?i:String(i)),o)}var i}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._conf=t,this._currentForm=n,this._buttonElement=this._currentForm.querySelector(this._conf.submitButtonSelector),this._inputList=Array.from(this._currentForm.querySelectorAll(this._conf.inputSelector))}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e._toggleButtonState()}))}))}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){var n=this._currentForm.querySelector("#".concat(e.id,"-error"));e.classList.add(this._conf.inputErrorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._currentForm.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._conf.inputErrorClass),t.textContent=""}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._conf.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._conf.inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===a(o)?o:String(o)),r)}var o}var c=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===l(o)?o:String(o)),r)}var o}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._closeButton=this._popup.querySelector(".popup__close"),this._handleEscClose=this._handleEscClose.bind(this),this._handleOverlayClick=this._handleOverlayClick.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_opened")}},{key:"setEventListeners",value:function(){var e=this;this._closeButton.addEventListener("click",(function(){e.close()})),this._popup.addEventListener("mousedown",this._handleOverlayClick)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleOverlayClick",value:function(e){e.target===this._popup&&this.close()}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===p(o)?o:String(o)),r)}var o}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=d(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmission=t,n._form=n._popup.querySelector(".form"),n._inputList=n._form.querySelectorAll(".form__input"),n._submitButton=n._form.querySelector(".submit"),n}return t=a,(n=[{key:"getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.id]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;h(b(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmission(e.getInputValues())}))}},{key:"close",value:function(){this._form.reset(),h(b(a.prototype),"close",this).call(this)}},{key:"renderLoadingText",value:function(e){this._submitButton.textContent=e?"Сохранение..":"Сохранить"}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(f);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===g(o)?o:String(o)),r)}var o}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},S.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function O(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._cardImageView=t._popup.querySelector(".view-mesto-popup__image"),t._cardNameView=t._popup.querySelector(".view-mesto-popup__name"),t}return t=a,(n=[{key:"open",value:function(e,t){S(j(a.prototype),"open",this).call(this),this._cardImageView.src=t,this._cardImageView.alt=e,this._cardNameView.textContent=e}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(f);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===P(o)?o:String(o)),r)}var o}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=T(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},I.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function q(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._form=t._popup.querySelector(".form"),t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;I(x(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleConfirmation()}))}},{key:"setHandleConfirmation",value:function(e){this._handleConfirmation=e}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(f);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===A(o)?o:String(o)),r)}var o}var D=function(){function e(t){var n=t.nameSelector,r=t.aboutSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._userData={name:this._name.textContent,about:this._about.textContent},this._userData}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar;e._id,this._name.textContent=t,this._about.textContent=n,this._avatar.style.backgroundImage="url(".concat(r,")")}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===V(o)?o:String(o)),r)}var o}var H=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getInitialInfo",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"editUserInfo",value:function(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}},{key:"addNewCard",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkResponse)}},{key:"removeMyCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"likeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"unlikeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"editAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}])&&N(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),F=document.querySelector(".profile__edit-info"),M=document.querySelector(".profile-popup__input_type_name"),J=document.querySelector(".profile-popup__input_type_job"),z=document.querySelector(".profile__add-element"),$=(document.querySelector(".add-mesto-popup__content"),document.querySelector(".update-avatar-popup__content"),document.querySelector(".profile__avatar-overlay"));function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=new H({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-55",headers:{authorization:"8f0b498f-1e88-4aae-945a-26a5ecabde6e","Content-Type":"application/json"}}),Q=new c({renderer:function(e){Q.addItem(W(e))}},".elements"),W=function(e){var t=new n({data:e,userId:Y,handleCardClick:function(){var t,n;t=e.name,n=e.link,ie.open(t,n)},handleLikeClick:function(e){t.isLiked()?K.unlikeCard(e).then((function(e){t.setLikes(e.likes)})).catch((function(e){console.log(e)})):K.likeCard(e).then((function(e){t.setLikes(e.likes)})).catch((function(e){console.log(e)}))},handleDeleteIconClick:function(e){re.open(),re.setHandleConfirmation((function(){K.removeMyCard(e).then((function(e){t.deleteMyCard(),re.close()})).catch((function(e){console.log(e)}))}))}},".template");return t.generateCard()},X=new D({nameSelector:".profile__name",aboutSelector:".profile__job",avatarSelector:".profile__edit-avatar-button"}),Y="";K.getInitialInfo().then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,n)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1],a=o;a.reverse();var u=i;Y=u._id,Q.renderItems(a),X.setUserInfo(u)})).catch((function(e){console.log(e)}));var Z,ee={};Z={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".submit",inactiveButtonClass:"popup__button-invalid",inputErrorClass:"popup__type-error"},Array.from(document.querySelectorAll(Z.formSelector)).forEach((function(e){var t=new i(Z,e),n=e.getAttribute("name");ee[n]=t,t.enableValidation()}));var te=new _(".profile-popup",(function(e){te.renderLoadingText(!0),K.editUserInfo(e.name,e.about).then((function(e){X.setUserInfo(e),te.close()})).catch((function(e){console.log(e)})).finally((function(){return te.renderLoadingText(!1)}))})),ne=new _(".add-mesto-popup",(function(){ae()})),re=new U(".deletion-confirm-popup"),oe=new _(".update-avatar-popup",(function(e){oe.renderLoadingText(!0),K.editAvatar(e.avatar).then((function(e){X.setUserInfo(e),oe.close()})).catch((function(e){console.log(e)})).finally((function(){return oe.renderLoadingText(!1)}))})),ie=new C(".view-mesto-popup");ie.setEventListeners(),te.setEventListeners(),ne.setEventListeners(),re.setEventListeners(),oe.setEventListeners();var ae=function(){ne.renderLoadingText(!0);var e=ne.getInputValues();K.addNewCard(e.name,e.link).then((function(e){Q.addItem(W(e)),ne.close()})).catch((function(e){console.log(e)})).finally((function(){return ne.renderLoadingText(!1)}))};F.addEventListener("click",(function(){var e;ee["profile-popup__content"].resetValidation(),te.open(),e=X.getUserInfo(),M.value=e.name,J.value=e.about})),z.addEventListener("click",(function(){ee["add-mesto-popup__content"].resetValidation(),ne.open()})),$.addEventListener("click",(function(){ee["update-avatar-popup__content"].resetValidation(),oe.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJckQsRUFBZSxxQkFHekNxRCxHQUFjd0Msb0JBQ2RWLEdBQWFVLG9CQUNiTCxHQUFhSyxvQkFDYi9CLEdBQWdCK0Isb0JBQ2hCSCxHQUFrQkcsb0JBR2xCLElBQU1KLEdBQTJCLFdBQy9CRCxHQUFhSixtQkFBa0IsR0FDL0IsSUFBTW5DLEVBQVd1QyxHQUFhM0YsaUJBQzlCaUQsRUFBSWdELFdBQVc3QyxFQUFTekosS0FBTXlKLEVBQVN2SixNQUNwQ3lJLE1BQUssU0FBQTRELEdBQ0YvQyxFQUFhRSxRQUFRQyxFQUFXNEMsSUFDaENQLEdBQWF4RyxPQUNqQixJQUNDeUUsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNkLElBQ0M2QixTQUFRLGtCQUFNQyxHQUFhSixtQkFBa0IsRUFBTSxHQUN4RCxFQTZCQTNDLEVBQWtCdEgsaUJBQWlCLFNBbkJELFdBUGxDLElBQ1FtSixFQU9OTyxHQUFlLDBCQUEwQm1CLGtCQUN6Q2IsR0FBYTdCLE9BUlBnQixFQUFXSCxFQUFTbEMsY0FDMUJTLEVBQWlCL0MsTUFBUTJFLEVBQVM5SyxLQUNsQ21KLEVBQWdCaEQsTUFBUTJFLEVBQVN0RCxLQVFuQyxJQWtCQTRCLEVBQWN6SCxpQkFBaUIsU0FmRyxXQUNoQzBKLEdBQWUsNEJBQTRCbUIsa0JBQzNDUixHQUFhbEMsTUFDZixJQWVBVCxFQUFtQjFILGlCQUFpQixTQVpHLFdBQ3JDMEosR0FBZSxnQ0FBZ0NtQixrQkFDL0NOLEdBQWtCcEMsTUFDcEIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvdmFsaWRhdGlvbkNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoeyBkYXRhLCB1c2VySWQsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlTGlrZUNsaWNrLCBoYW5kbGVEZWxldGVJY29uQ2xpY2sgfSwgdGVtcGxhdGUpIHtcbiAgICB0aGlzLl9jYXJkTmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9jYXJkTGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9jYXJkTGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUljb25DbGljayA9IGhhbmRsZURlbGV0ZUljb25DbGljaztcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZSkuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBpc0xpa2VkKCkge1xuICAgIGNvbnN0IHVzZXJBbHJlYWR5TGlrZWRDYXJkID0gdGhpcy5fY2FyZExpa2VzLmZpbmQodXNlciA9PiB1c2VyLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcbiAgICByZXR1cm4gdXNlckFscmVhZHlMaWtlZENhcmQ7XG4gIH1cblxuICBzZXRMaWtlcyh1cGRhdGVkTGlrZXMpIHtcbiAgICB0aGlzLl9jYXJkTGlrZXMgPSB1cGRhdGVkTGlrZXM7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9jYXJkTGlrZXMubGVuZ3RoO1xuXG4gICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XG4gICAgICB0aGlzLl9saWtlVG9nZ2xlT25IYW5kbGVyKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZVRvZ2dsZU9mZkhhbmRsZXIoKTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKCk7XG4gICAgfSlcbiAgICB0aGlzLl9idXR0b25SZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVJY29uQ2xpY2sodGhpcy5faWQpO1xuICAgIH0pXG4gICAgdGhpcy5fbGlrZUljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcy5faWQpO1xuICAgIH0pXG4gIH1cblxuICBfbGlrZVRvZ2dsZU9uSGFuZGxlcigpIHtcbiAgICB0aGlzLl9saWtlSWNvbi5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19saWtlX2FjdGl2ZScpO1xuICB9XG5cbiAgX2xpa2VUb2dnbGVPZmZIYW5kbGVyKCkge1xuICAgIHRoaXMuX2xpa2VJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWNvdW50Jyk7XG4gICAgdGhpcy5fYnV0dG9uUmVtb3ZlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fcmVtb3ZlJyk7XG4gICAgdGhpcy5fbGlrZUljb24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJyk7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKTtcbiAgICB0aGlzLl9jYXJkTmFtZUVsZW1lbnQgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19uYW1lJyk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnNldExpa2VzKHRoaXMuX2NhcmRMaWtlcyk7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5fY2FyZExpbmspO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIHRoaXMuX2NhcmROYW1lKTtcbiAgICB0aGlzLl9jYXJkTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9jYXJkTmFtZTtcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICB0aGlzLl9idXR0b25SZW1vdmUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcbiAgfVxuXG4gIGRlbGV0ZU15Q2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkLnJlbW92ZSgpO1xuICB9XG59XG5cbmV4cG9ydCB7IENhcmQgfVxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmYsIGZvcm1TZWxlY3Rvcikge1xuICAgIHRoaXMuX2NvbmYgPSBjb25mO1xuICAgIHRoaXMuX2N1cnJlbnRGb3JtID0gZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9jdXJyZW50Rm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmYuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fY3VycmVudEZvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25mLmlucHV0U2VsZWN0b3IpKTtcbiAgfVxuXG4gIC8vINCS0LrQu9GO0YfQsNC10Lwg0LLRgdC1INCy0LDQu9C40LTQsNGG0LjQuFxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgLy8g0KXQtdC90LTQu9C40Lwg0LfQsNCy0LjRgdGI0LjQtSDQstCw0LvQuNC00LDRhtC40Lgg0Lgg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuFxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH07XG5cbiAgIC8vINCS0LXRiNCw0LXQvCDQu9C40YHQtdC90LXRgNGLINC90LAg0LjQvdC/0YPRgtGLXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5faXNWYWxpZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INCy0LDQu9C40LTQvdC+0YHRgtGMINC/0L7Qu9GPINC4INC/0L7QutCw0LfRi9Cy0LDQtdC8INC+0YjQuNCx0LrRgyDQtdGB0LvQuCDQvdC1XG4gIF9pc1ZhbGlkKGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDQutC70LDRgdGBINGBINC+0YjQuNCx0LrQvtC5XG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2N1cnJlbnRGb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKVxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmYuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIH07XG5cbiAgLy8g0KPQtNCw0LvRj9C10Lwg0LrQu9Cw0YHRgSDRgSDQvtGI0LjQsdC60L7QuVxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fY3VycmVudEZvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmYuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfTtcblxuICAvLyDQn9C10YDQtdC60LvRjtGH0LDQtdC8INGB0L7RgdGC0L7Rj9C90LjRjyDQutC90L7Qv9C60Lgg0YHQsNCx0LzQuNGC0LBcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmYuaW5hY3RpdmVCdXR0b25DbGFzcylcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25mLmluYWN0aXZlQnV0dG9uQ2xhc3MpXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQvdCw0LvQuNGH0LjQtSDRhdC+0YLRjyDQsdGLINC+0LTQvdC+0LPQviDQvdC10LLQsNC70LjQtNC90L7Qs9C+INC40L3Qv9GD0YLQsFxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCB7IEZvcm1WYWxpZGF0b3IgfVxuIiwiY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KVxuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2VjdGlvbiB9XG4iLCJjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJyk7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZU92ZXJsYXlDbGljayA9IHRoaXMuX2hhbmRsZU92ZXJsYXlDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbGljayk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZU92ZXJsYXlDbGljayhldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXApIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgUG9wdXAgfVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWlzc2lvbikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXNzaW9uID0gaGFuZGxlRm9ybVN1Ym1pc3Npb247XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5zdWJtaXQnKTtcbiAgfVxuXG4gIGdldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5pZF0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KVxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXNzaW9uKHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZ1RleHQoaXNMb2FkaW5nKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4nO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBQb3B1cFdpdGhGb3JtIH1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VWaWV3ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnZpZXctbWVzdG8tcG9wdXBfX2ltYWdlJyk7XG4gICAgdGhpcy5fY2FyZE5hbWVWaWV3ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnZpZXctbWVzdG8tcG9wdXBfX25hbWUnKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VWaWV3LnNyYyA9IGxpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlVmlldy5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX2NhcmROYW1lVmlldy50ZXh0Q29udGVudCA9IG5hbWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUNvbmZpcm1hdGlvbigpO1xuICAgIH0pXG4gIH1cblxuICBzZXRIYW5kbGVDb25maXJtYXRpb24oaGFuZGxlcikge1xuICAgIHRoaXMuX2hhbmRsZUNvbmZpcm1hdGlvbiA9IGhhbmRsZXI7XG4gIH1cbn1cblxuZXhwb3J0IHsgUG9wdXBXaXRoQ29uZmlybWF0aW9uIH1cbiIsImNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3Ioe25hbWVTZWxlY3RvciwgYWJvdXRTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3J9KSB7XG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICB0aGlzLl91c2VyRGF0YSA9IHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnRcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3VzZXJEYXRhO1xuICB9XG5cbiAgc2V0VXNlckluZm8oIHsgbmFtZSwgYWJvdXQsIGF2YXRhciwgX2lkIH0gKSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICB0aGlzLl9hdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2F2YXRhcn0pYDtcbiAgfVxufVxuXG5leHBvcnQgeyBVc2VySW5mbyB9XG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRJbml0aWFsSW5mbygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzKCksIHRoaXMuZ2V0VXNlckluZm8oKV0pO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICB9XG5cbiAgZWRpdFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0XG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxuXG4gIGFkZE5ld0NhcmQobmFtZSwgbGluaykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgbGluazogbGlua1xuICAgICAgfSlcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXG4gIH1cblxuICByZW1vdmVNeUNhcmQoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxuXG4gIGxpa2VDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXG4gIH1cblxuICB1bmxpa2VDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXG4gIH1cblxuICBlZGl0QXZhdGFyKGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBsaW5rXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxufVxuXG5leHBvcnQgeyBBcGkgfVxuIiwiZXhwb3J0IGNvbnN0IGJ1dHRvbkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtaW5mbycpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVQb3B1cE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1wb3B1cF9faW5wdXRfdHlwZV9uYW1lJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZVBvcHVwSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtcG9wdXBfX2lucHV0X3R5cGVfam9iJyk7XG5leHBvcnQgY29uc3QgY2FyZEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtZWxlbWVudCcpO1xuZXhwb3J0IGNvbnN0IGNhcmRBZGRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1tZXN0by1wb3B1cF9fY29udGVudCcpO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudXBkYXRlLWF2YXRhci1wb3B1cF9fY29udGVudCcpO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItb3ZlcmxheScpO1xuZXhwb3J0IGNvbnN0IGFwaUNvbmZpZyA9IHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTUnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJzhmMGI0OThmLTFlODgtNGFhZS05NDVhLTI2YTVlY2FiZGU2ZScsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9XG59O1xuIiwiaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0aW9uQ29uZmlnIH0gZnJvbSBcIi4uL3V0aWxzL3ZhbGlkYXRpb25Db25maWcuanNcIjtcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IHsgUG9wdXBXaXRoQ29uZmlybWF0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCB7IGJ1dHRvbkVkaXRQcm9maWxlLCBwcm9maWxlUG9wdXBOYW1lLCBwcm9maWxlUG9wdXBKb2IsIGNhcmRBZGRCdXR0b24sIGNhcmRBZGRGb3JtLCBhcGlDb25maWcsIHVwZGF0ZUF2YXRhckZvcm0sIHVwZGF0ZUF2YXRhckJ1dHRvbiB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcblxuLy8g0J/RgNC+0LrQuNC00YvQstCw0LXQvCDRhdC10L3QtNC70LjQvdCzINC/0L7Qv9Cw0L/QsCDQv9GA0L7RgdC80L7RgtGA0LAg0LrQsNGA0YLQvtGH0LrQuCDQsiDQutC70LDRgdGBINGB0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuY29uc3Qgb3BlbkNhcmRGdWxsU2NyZWVuID0gKG5hbWUsIGxpbmspID0+IHtcbiAgcG9wdXBab29tQ2FyZC5vcGVuKG5hbWUsIGxpbmspO1xufVxuXG4vLyDQodC+0LfQtNCw0LXQvCDQuNC90YHRgtCw0L3RgSDQutC70LDRgdGB0LAg0LfQsNC/0YDQvtGB0L7QslxuY29uc3QgYXBpID0gbmV3IEFwaShhcGlDb25maWcpO1xuXG4vLyDQodC+0LfQtNCw0LXQvCDQuNC90YHRgtCw0L3RgSDQutC70LDRgdGB0LAgU2VjdGlvblxuY29uc3QgY2FyZHNTZWN0aW9uID0gbmV3IFNlY3Rpb24oe1xuICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XG4gICAgY2FyZHNTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChjYXJkRGF0YSkpO1xuICB9XG59LCAnLmVsZW1lbnRzJylcblxuLy8g0KHQvtC30LTQsNC10Lwg0L3QvtCy0YPRjiDQutCw0YDRgtC+0YfQutGDXG5jb25zdCBjcmVhdGVDYXJkID0gKGNhcmREYXRhKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7XG4gICAgZGF0YTogY2FyZERhdGEsXG4gICAgdXNlcklkLFxuICAgIC8vINCf0YDQvtC60LjQtNGL0LLQsNC10Lwg0YXQtdC90LTQu9C10YAg0LfRg9C80LAg0LrQsNGA0YLQvtGH0LrQuFxuICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xuICAgICAgb3BlbkNhcmRGdWxsU2NyZWVuKGNhcmREYXRhLm5hbWUsIGNhcmREYXRhLmxpbmspXG4gICAgfSxcbiAgICAvLyDQn9GA0L7QutC40LTRi9Cy0LDQtdC8INGF0LXQvdC00LvQtdGAINC70LDQudC60L7QslxuICAgIGhhbmRsZUxpa2VDbGljazogKGlkKSA9PiB7XG4gICAgICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcbiAgICAgICAgYXBpLnVubGlrZUNhcmQoaWQpXG4gICAgICAgICAgLnRoZW4odXBkYXRlZENhcmQgPT4ge1xuICAgICAgICAgICAgY2FyZC5zZXRMaWtlcyh1cGRhdGVkQ2FyZC5saWtlcyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBhcGkubGlrZUNhcmQoaWQpXG4gICAgICAgICAgLnRoZW4odXBkYXRlZENhcmQgPT4ge1xuICAgICAgICAgICAgY2FyZC5zZXRMaWtlcyh1cGRhdGVkQ2FyZC5saWtlcyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vINCf0YDQvtC60LjQtNGL0LLQsNC10Lwg0YXQtdC90LTQu9C10YAg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG4gICAgaGFuZGxlRGVsZXRlSWNvbkNsaWNrOiAoaWQpID0+IHtcbiAgICAgIHBvcHVwRGVsZXRlQ2FyZC5vcGVuKCk7XG4gICAgICBwb3B1cERlbGV0ZUNhcmQuc2V0SGFuZGxlQ29uZmlybWF0aW9uKCgpID0+IHtcbiAgICAgICAgYXBpLnJlbW92ZU15Q2FyZChpZClcbiAgICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICBjYXJkLmRlbGV0ZU15Q2FyZCgpO1xuICAgICAgICAgICAgICBwb3B1cERlbGV0ZUNhcmQuY2xvc2UoKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIH0sICcudGVtcGxhdGUnKTtcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG59O1xuXG4vLyDQodC+0LfQtNCw0LXQvCDQuNC90YHRgtCw0L3RgSDRhdC10L3QtNC70LXRgNCwINC40L3RhNGLINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9fbmFtZScsXG4gIGFib3V0U2VsZWN0b3I6ICcucHJvZmlsZV9fam9iJyxcbiAgYXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9fZWRpdC1hdmF0YXItYnV0dG9uJ1xufSk7XG5cbmxldCB1c2VySWQgPSAnJztcblxuLy8g0KHQvtCx0LjRgNCw0LXQvCDQuNC90YTRgyDQtNC70Y8g0L3QsNGH0LDQu9GM0L3QvtC5INC30LDQs9GA0YPQt9C60Lgg0YHRgtGA0LDQvdC40YbRi1xuYXBpLmdldEluaXRpYWxJbmZvKClcbiAgLnRoZW4oKFtjYXJkcywgdXNlckRhdGFdKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbENhcmRMaXN0ID0gY2FyZHM7XG4gICAgaW5pdGlhbENhcmRMaXN0LnJldmVyc2UoKTtcbiAgICBjb25zdCBpbml0aWFsVXNlckluZm8gPSB1c2VyRGF0YTtcbiAgICB1c2VySWQgPSBpbml0aWFsVXNlckluZm8uX2lkO1xuICAgIGNhcmRzU2VjdGlvbi5yZW5kZXJJdGVtcyhpbml0aWFsQ2FyZExpc3QpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGluaXRpYWxVc2VySW5mbyk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSk7XG5cblxuLy8g0KHQvtC30LTQsNC10Lwg0LjQvdGB0YLQsNC90YHRiyDQstGB0LXRhSDQstCw0LvQuNC00LDRgtC+0YDQvtCyINC4INCy0LrQu9GO0YfQsNC10Lwg0LLQsNC70LjQtNCw0YbQuNC4XG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudClcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pXG59XG4gZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcblxuLy8g0KHQvtC30LTQsNC10Lwg0LjQvdGB0YLQsNC90YEg0L/QvtC/0LDQv9CwINC/0YDQvtGE0LjQu9GPXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnByb2ZpbGUtcG9wdXAnLCAodXNlckRhdGEpID0+IHtcbiAgcG9wdXBQcm9maWxlLnJlbmRlckxvYWRpbmdUZXh0KHRydWUpO1xuICBhcGkuZWRpdFVzZXJJbmZvKHVzZXJEYXRhLm5hbWUsIHVzZXJEYXRhLmFib3V0KVxuICAgIC50aGVuKHVwZGF0ZWRVc2VySW5mbyA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVwZGF0ZWRVc2VySW5mbyk7XG4gICAgICAgIHBvcHVwUHJvZmlsZS5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cFByb2ZpbGUucmVuZGVyTG9hZGluZ1RleHQoZmFsc2UpKVxufSk7XG5cbi8vINCh0L7Qt9C00LDQtdC8INC40L3RgdGC0LDQvdGBINC/0L7Qv9Cw0L/QsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IHBvcHVwQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcuYWRkLW1lc3RvLXBvcHVwJywgKCkgPT4ge1xuICBoYW5kbGVBZGRDYXJkUG9wdXBTdWJtaXQoKTtcbn0pO1xuXG4vLyDQodC+0LfQtNCw0LXQvCDQuNC90YHRgtCw0L3RgSDQv9C+0L/QsNC/0LAg0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKCcuZGVsZXRpb24tY29uZmlybS1wb3B1cCcpO1xuXG4vLyDQodC+0LfQtNCw0LXQvCDQuNC90YHRgtCw0L3RgSDQv9C+0L/QsNC/0LAg0L7QsdC90L7QstC70LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcbmNvbnN0IHBvcHVwVXBkYXRlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJy51cGRhdGUtYXZhdGFyLXBvcHVwJywgKHNyYykgPT4ge1xuICBwb3B1cFVwZGF0ZUF2YXRhci5yZW5kZXJMb2FkaW5nVGV4dCh0cnVlKTtcbiAgYXBpLmVkaXRBdmF0YXIoc3JjLmF2YXRhcilcbiAgICAudGhlbih1cGRhdGVkVXNlckRhdGEgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8odXBkYXRlZFVzZXJEYXRhKTtcbiAgICAgIHBvcHVwVXBkYXRlQXZhdGFyLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwVXBkYXRlQXZhdGFyLnJlbmRlckxvYWRpbmdUZXh0KGZhbHNlKSlcbn0pO1xuXG4vLyDQodC+0LfQtNCw0LXQvCDQuNC90YHRgtCw0L3RgSDQv9C+0L/QsNC/0LAg0L/RgNC+0YHQvNC+0YLRgNCwINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IHBvcHVwWm9vbUNhcmQgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy52aWV3LW1lc3RvLXBvcHVwJyk7XG5cbi8vINCS0LXRiNCw0LXQvCDQu9C40YHQtdC90LXRgNGLINC90LAg0LLRgdC1INCy0LjQtNGLINC/0L7Qv9Cw0L/QvtCyXG5wb3B1cFpvb21DYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBEZWxldGVDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cFVwZGF0ZUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQpdC10L3QtNC70LjQvCDRgdCw0LHQvNC40YIg0LIg0L/QvtC/0LDQv9C1INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IGhhbmRsZUFkZENhcmRQb3B1cFN1Ym1pdCA9ICgpID0+IHtcbiAgcG9wdXBBZGRDYXJkLnJlbmRlckxvYWRpbmdUZXh0KHRydWUpO1xuICBjb25zdCBjYXJkRGF0YSA9IHBvcHVwQWRkQ2FyZC5nZXRJbnB1dFZhbHVlcygpXG4gIGFwaS5hZGROZXdDYXJkKGNhcmREYXRhLm5hbWUsIGNhcmREYXRhLmxpbmspXG4gICAgLnRoZW4obmV3Q2FyZERhdGEgPT4ge1xuICAgICAgICBjYXJkc1NlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKG5ld0NhcmREYXRhKSk7XG4gICAgICAgIHBvcHVwQWRkQ2FyZC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cEFkZENhcmQucmVuZGVyTG9hZGluZ1RleHQoZmFsc2UpKVxufVxuXG4vLyDQl9Cw0L/QvtC70L3Rj9C10Lwg0YTQvtGA0LzRgyDQv9GA0L7RhNC40LvRj1xuZnVuY3Rpb24gZmlsbFByb2ZpbGVJbmZvRm9ybSgpIHtcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlUG9wdXBOYW1lLnZhbHVlID0gdXNlckRhdGEubmFtZTtcbiAgcHJvZmlsZVBvcHVwSm9iLnZhbHVlID0gdXNlckRhdGEuYWJvdXQ7XG59XG5cbi8vINCe0YLQutGA0YvQstCw0LXQvCDQv9C+0L/QsNC/INC/0YDQvtGE0LjQu9GPLCDQv9C10YDQtdC30LDQv9C+0LvQvdGP0LXQvCDRhNC+0YDQvNGDINC4INC+0YfQuNGJ0LDQtdC8INC30LDQstC40YHRiNC40LUg0L7RiNC40LHQutC4INCy0LDQu9C40LTQsNGG0LjQuFxuY29uc3QgaGFuZGxlUHJvZmlsZVBvcHVwT3BlbmluZyA9ICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbJ3Byb2ZpbGUtcG9wdXBfX2NvbnRlbnQnXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgcG9wdXBQcm9maWxlLm9wZW4oKTtcbiAgZmlsbFByb2ZpbGVJbmZvRm9ybSgpO1xufVxuXG4vLyDQntGC0LrRgNGL0LLQsNC10Lwg0L/QvtC/0LDQvyDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LgsINGA0LXRgdC10YLQsNC10Lwg0YTQvtGA0LzRgyDQuCDQvtGH0LjRidCw0LXQvCDQt9Cw0LLQuNGB0YjQuNC1INC+0YjQuNCx0LrQuCDQstCw0LvQuNC00LDRhtC40LhcbmNvbnN0IGhhbmRsZUFkZENhcmRQb3B1cE9wZW5pbmcgPSAoKSA9PiB7XG4gIGZvcm1WYWxpZGF0b3JzWydhZGQtbWVzdG8tcG9wdXBfX2NvbnRlbnQnXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcbn1cblxuLy8g0J7RgtC60YDRi9Cy0LDQtdC8INC/0L7Qv9Cw0L8g0L7QsdC90L7QstC70LXQvdC40Y8g0LDQstCw0YLQsNGA0LAsINGA0LXRgdC10YLQsNC10Lwg0YTQvtGA0LzRgyDQuCDQvtGH0LjRidCw0LXQvCDQt9Cw0LLQuNGB0YjQuNC1INC+0YjQuNCx0LrQuCDQstCw0LvQuNC00LDRhtC40LhcbmNvbnN0IGhhbmRsZVVwZGF0ZUF2YXRhclBvcHVwT3BlbmluZyA9ICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbJ3VwZGF0ZS1hdmF0YXItcG9wdXBfX2NvbnRlbnQnXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgcG9wdXBVcGRhdGVBdmF0YXIub3BlbigpO1xufVxuXG4vLyDQktC10YjQsNC10Lwg0LvQuNGB0LXQvdC10YAg0L3QsCDQvtGC0LrRgNGL0LLQsNC90LjQtSDQv9C+0L/QsNC/0LAg0L/RgNC+0YTQuNC70Y9cbmJ1dHRvbkVkaXRQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUHJvZmlsZVBvcHVwT3BlbmluZyk7XG5cbi8vINCe0YLQutGA0YvQstCw0LXQvCDQv9C+0L/QsNC/INGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4INC4INC+0YfQuNGJ0LDQtdC8INC30LDQstC40YHRiNC40LUg0L7RiNC40LHQutC4INCy0LDQu9C40LTQsNGG0LjQuFxuY2FyZEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUFkZENhcmRQb3B1cE9wZW5pbmcpO1xuXG4vLyDQntGC0LrRgNGL0LLQsNC10Lwg0L/QvtC/0LDQvyDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsNCy0LDRgtCw0YDQsCDQuCDQvtGH0LjRidCw0LXQvCDQt9Cw0LLQuNGB0YjQuNC1INC+0YjQuNCx0LrQuCDQstCw0LvQuNC00LDRhtC40LhcbnVwZGF0ZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVVwZGF0ZUF2YXRhclBvcHVwT3BlbmluZyk7XG4iLCJjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5zdWJtaXQnLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbi1pbnZhbGlkJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX3R5cGUtZXJyb3InXG59XG5cbmV4cG9ydCB7IHZhbGlkYXRpb25Db25maWcgfVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJ0ZW1wbGF0ZSIsImRhdGEiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVEZWxldGVJY29uQ2xpY2siLCJ0aGlzIiwiX2NhcmROYW1lIiwibmFtZSIsIl9jYXJkTGluayIsImxpbmsiLCJfY2FyZExpa2VzIiwibGlrZXMiLCJfaWQiLCJfdXNlcklkIiwiX293bmVySWQiLCJvd25lciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUljb25DbGljayIsIl90ZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJmaW5kIiwidXNlciIsInVwZGF0ZWRMaWtlcyIsIl9saWtlQ291bnRlciIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiaXNMaWtlZCIsIl9saWtlVG9nZ2xlT25IYW5kbGVyIiwiX2xpa2VUb2dnbGVPZmZIYW5kbGVyIiwiX2NhcmRJbWFnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfYnV0dG9uUmVtb3ZlIiwiX2xpa2VJY29uIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiX2NhcmQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZE5hbWVFbGVtZW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic2V0TGlrZXMiLCJzZXRBdHRyaWJ1dGUiLCJzdHlsZSIsImRpc3BsYXkiLCJGb3JtVmFsaWRhdG9yIiwiY29uZiIsImZvcm1TZWxlY3RvciIsIl9jb25mIiwiX2N1cnJlbnRGb3JtIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJfaGlkZUlucHV0RXJyb3IiLCJfaXNWYWxpZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwiX2hhc0ludmFsaWRJbnB1dCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsInJlbW92ZUF0dHJpYnV0ZSIsInNvbWUiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9jbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfaGFuZGxlT3ZlcmxheUNsaWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwiZXZ0Iiwia2V5IiwidGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXNzaW9uIiwiX2hhbmRsZUZvcm1TdWJtaXNzaW9uIiwiX2Zvcm0iLCJfc3VibWl0QnV0dG9uIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJnZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiaXNMb2FkaW5nIiwiUG9wdXBXaXRoSW1hZ2UiLCJfY2FyZEltYWdlVmlldyIsIl9jYXJkTmFtZVZpZXciLCJzcmMiLCJhbHQiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJfaGFuZGxlQ29uZmlybWF0aW9uIiwiaGFuZGxlciIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiYWJvdXRTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWUiLCJfYWJvdXQiLCJfYXZhdGFyIiwiX3VzZXJEYXRhIiwiYWJvdXQiLCJhdmF0YXIiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJBcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImJ1dHRvbkVkaXRQcm9maWxlIiwicHJvZmlsZVBvcHVwTmFtZSIsInByb2ZpbGVQb3B1cEpvYiIsImNhcmRBZGRCdXR0b24iLCJ1cGRhdGVBdmF0YXJCdXR0b24iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiY2FyZHNTZWN0aW9uIiwiY2FyZERhdGEiLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsImNhcmQiLCJwb3B1cFpvb21DYXJkIiwib3BlbiIsInVubGlrZUNhcmQiLCJ1cGRhdGVkQ2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImxpa2VDYXJkIiwicG9wdXBEZWxldGVDYXJkIiwic2V0SGFuZGxlQ29uZmlybWF0aW9uIiwicmVtb3ZlTXlDYXJkIiwiZGVsZXRlTXlDYXJkIiwiZ2VuZXJhdGVDYXJkIiwidXNlckluZm8iLCJnZXRJbml0aWFsSW5mbyIsImNhcmRzIiwidXNlckRhdGEiLCJpbml0aWFsQ2FyZExpc3QiLCJyZXZlcnNlIiwiaW5pdGlhbFVzZXJJbmZvIiwicmVuZGVySXRlbXMiLCJzZXRVc2VySW5mbyIsImNvbmZpZyIsImZvcm1WYWxpZGF0b3JzIiwiZm9ybUVsZW1lbnQiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJwb3B1cFByb2ZpbGUiLCJyZW5kZXJMb2FkaW5nVGV4dCIsImVkaXRVc2VySW5mbyIsInVwZGF0ZWRVc2VySW5mbyIsImZpbmFsbHkiLCJwb3B1cEFkZENhcmQiLCJoYW5kbGVBZGRDYXJkUG9wdXBTdWJtaXQiLCJwb3B1cFVwZGF0ZUF2YXRhciIsImVkaXRBdmF0YXIiLCJ1cGRhdGVkVXNlckRhdGEiLCJzZXRFdmVudExpc3RlbmVycyIsImFkZE5ld0NhcmQiLCJuZXdDYXJkRGF0YSIsInJlc2V0VmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=